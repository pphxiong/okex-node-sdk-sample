(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"8GdZ":function(e,t,a){"use strict";var n=[{date:"2018/8/1",type:"download",value:4623},{date:"2018/8/1",type:"register",value:2208},{date:"2018/8/1",type:"bill",value:182},{date:"2018/8/2",type:"download",value:6145},{date:"2018/8/2",type:"register",value:2016},{date:"2018/8/2",type:"bill",value:257},{date:"2018/8/3",type:"download",value:508},{date:"2018/8/3",type:"register",value:2916},{date:"2018/8/3",type:"bill",value:289},{date:"2018/8/4",type:"download",value:6268},{date:"2018/8/4",type:"register",value:4512},{date:"2018/8/4",type:"bill",value:428},{date:"2018/8/5",type:"download",value:6411},{date:"2018/8/5",type:"register",value:8281},{date:"2018/8/5",type:"bill",value:619},{date:"2018/8/6",type:"download",value:1890},{date:"2018/8/6",type:"register",value:2008},{date:"2018/8/6",type:"bill",value:87},{date:"2018/8/7",type:"download",value:4251},{date:"2018/8/7",type:"register",value:1963},{date:"2018/8/7",type:"bill",value:706},{date:"2018/8/8",type:"download",value:2978},{date:"2018/8/8",type:"register",value:2367},{date:"2018/8/8",type:"bill",value:387},{date:"2018/8/9",type:"download",value:3880},{date:"2018/8/9",type:"register",value:2956},{date:"2018/8/9",type:"bill",value:488},{date:"2018/8/10",type:"download",value:3606},{date:"2018/8/10",type:"register",value:678},{date:"2018/8/10",type:"bill",value:507},{date:"2018/8/11",type:"download",value:4311},{date:"2018/8/11",type:"register",value:3188},{date:"2018/8/11",type:"bill",value:548},{date:"2018/8/12",type:"download",value:4116},{date:"2018/8/12",type:"register",value:3491},{date:"2018/8/12",type:"bill",value:456},{date:"2018/8/13",type:"download",value:6419},{date:"2018/8/13",type:"register",value:2852},{date:"2018/8/13",type:"bill",value:689},{date:"2018/8/14",type:"download",value:1643},{date:"2018/8/14",type:"register",value:4788},{date:"2018/8/14",type:"bill",value:280},{date:"2018/8/15",type:"download",value:445},{date:"2018/8/15",type:"register",value:4319},{date:"2018/8/15",type:"bill",value:176}];t["a"]={title:{visible:!1,text:"\u591a\u6298\u7ebf\u56fe"},description:{visible:!1,text:"\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u6307\u5b9a\u6298\u7ebf\u989c\u8272"},padding:"auto",forceFit:!0,data:n,xField:"date",yField:"value",height:300,width:"100%",yAxis:{label:{formatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},legend:{position:"top-center"},color:["#1979C9","#D62A0D","#FAA219"],responsive:!1,label:{visible:!0,type:"point"}}},FMNE:function(e,t,a){"use strict";a.r(t);a("+L6B");var n=a("2/Rp"),r=(a("IzEo"),a("bx4M")),i=a("WmNS"),l=a.n(i),u=a("9og8"),c=a("tJVT"),o=a("q1tI"),d=a.n(o),s=a("XJ4j"),p=a("wd/R"),b=a.n(p),f=(a("06Lf"),a("t3Un")),m="/okexSwapSimulation";function v(e){return y.apply(this,arguments)}function y(){return y=Object(u["a"])(l.a.mark((function e(t){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])("".concat(m,"/swap/getOrders"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=Object(u["a"])(l.a.mark((function e(t){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])("".concat(m,"/swap/information"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function w(e){return O.apply(this,arguments)}function O(){return O=Object(u["a"])(l.a.mark((function e(t){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])("".concat(m,"/swap/information/sentiment"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}var j=a("kQFk");a("8GdZ"),t["default"]=function(e){var t=Object(o["useState"])([]),a=Object(c["a"])(t,2),i=(a[0],a[1]),p=Object(o["useState"])([]),f=Object(c["a"])(p,2),m=(f[0],f[1]),y=Object(o["useState"])({}),h=Object(c["a"])(y,2),O=(h[0],h[1],40),S=Object(o["useState"])(1),x=Object(c["a"])(S,2),N=x[0],k=x[1],E=Object(o["useState"])(10),P=Object(c["a"])(E,2),z=P[0],C=P[1],F=Object(o["useState"])(1),I=Object(c["a"])(F,2),A=I[0],H=I[1],_=Object(o["useState"])(10),L=Object(c["a"])(_,2),D=L[0],T=L[1],B=function(){var e=Object(u["a"])(l.a.mark((function e(){var t;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({instrument_id:"MNBTC-USD-SWAP",limit:O,state:7});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(u["a"])(l.a.mark((function e(){var t;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({instrument_id:"MNEOS-USD-SWAP",limit:O,state:7});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u["a"])(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g({currency:"BTC",granularity:864e3});case 2:a=e.sent,n=null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:[],i(n.filter((function(e,t){return t<40})).map((function(e){return{time:b()(e[0]).format("HH:mm:ss"),ratio:Number(e[1])}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u["a"])(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w({currency:"BTC",granularity:864e3});case 2:a=e.sent,n=null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:[],r=[],n.filter((function(e,t){return t<40})).map((function(e){r.push({time:b()(e[0]).format("HH:mm:ss"),ratio:Number(e[1]),type:"\u505a\u591a\u8d26\u6237"}),r.push({time:b()(e[0]).format("HH:mm:ss"),ratio:Number(e[2]),type:"\u505a\u7a7a\u8d26\u6237"})})),m(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o["useEffect"])((function(){R(),U()}),[]);var M=function(e){return[{dataIndex:"index",title:"\u5e8f\u53f7",render:function(t,a,n){return n+1==e?t:++n}},{dataIndex:"type",title:"\u4ea4\u6613\u7c7b\u578b",render:function(e){return j["a"][e]}},{dataIndex:"size",title:"\u6570\u91cf\uff08\u5f20\uff09"},{dataIndex:"price_avg",title:"\u6210\u4ea4\u5747\u4ef7"},{dataIndex:"timestamp",title:"\u6210\u4ea4\u65f6\u95f4",render:function(t,a,n){return n+1==e?"":b()(t).format("YYYY-MM-DD HH:mm:ss")}},{dataIndex:"leverage",title:"\u6760\u6746\u500d\u6570"},{dataIndex:"bzj-usd",title:"\u4fdd\u8bc1\u91d1\uff08\u7f8e\u5143\uff09",render:function(t,a,n){var r=a.size,i=a.contract_val,l=(a.price_avg,a.leverage);return n+1==e?"":(Number(r)*Number(i)/l).toFixed(2)}},{dataIndex:"feeUsd",title:"\u624b\u7eed\u8d39\uff08\u7f8e\u5143\uff09",render:function(t,a,n){return n+1==e?t?t.toFixed(2):"":(Number(a.fee)*Number(a.price_avg)).toFixed(2)}},{dataIndex:"feeUsdPercent",title:"\u624b\u7eed\u8d39\u5360\u6bd4(%)",render:function(t,a,n){var r=a.size,i=a.fee,l=a.contract_val,u=a.price_avg,c=a.leverage;return n+1==e?t?t.toFixed(2):"":(Number(i)*Number(u)*100/(Number(r)*Number(l)/c)).toFixed(2)}},{dataIndex:"value",title:"\u5408\u7ea6\u4ef7\u503c",render:function(t,a,n){var r=a.type,i=a.size,l=a.price_avg;return n+1==e?t?t.toFixed(2):"":1==r||2==r?Number(i)*Number(l):-Number(i)*Number(l)}}]},K=function(e,t,a){Array.isArray(e)&&(e={order_info:e});var n=e.order_info,r=0,i=0,l=0,u=0;return n.some((function(e,n){var c=e.type,o=e.size,d=e.contract_val,s=e.price_avg,p=e.leverage,b=e.pnl,f=e.fee;if(n>=(t-1)*a&&n<t*a&&(r+=Number(o)*Number(d)/Number(p),i+=Number(f)*Number(s),l+=Number(b)*Number(s),u+=1==c||2==c?Number(o)*Number(s):-Number(o)*Number(s)),n==t*a-2)return!0})),n.splice(t*a-1,0,{index:"\u603b\u8ba1",feeUsd:i,pnlUsd:l,feeUsdPercent:100*i/r,value:u,ratio:100*(i+l)/(r/(a-1))}),{records:n}};return d.a.createElement(d.a.Fragment,null,d.a.createElement(r["a"],{title:"BTC\u4ea4\u6613\u8bb0\u5f55"},d.a.createElement(s["a"],{columns:M(z),getList:B,responseHandler:function(e){return K(e,N,z)},rowKey:"order_id",tableId:"btc",key:"btc",callbackPageSize:function(e,t){k(e),C(t)}})),d.a.createElement(r["a"],{title:"EOS\u4ea4\u6613\u8bb0\u5f55",style:{marginTop:10},extra:d.a.createElement(n["a"],{onClick:function(){Object(s["b"])("eos")}},"\u5237\u65b0")},d.a.createElement(s["a"],{columns:M(D),getList:J,responseHandler:function(e){return K(e,A,D)},rowKey:"order_id",tableId:"eos",key:"eos",callbackPageSize:function(e,t){H(e),T(t)}})))}},XJ4j:function(e,t,a){"use strict";a.d(t,"b",(function(){return m}));a("g9YV");var n,r=a("wCAj"),i=(a("P2fV"),a("NJEC")),l=(a("+L6B"),a("2/Rp")),u=a("0Owb"),c=a("k1fw"),o=a("tJVT"),d=a("PpiC"),s=a("q1tI"),p=a.n(s),b=a("FVvW"),f=a("vu7d"),m=function(e,t){setTimeout((function(){n(e,t)}))};t["a"]=function(e){var t=e.getList,a=e.columns,m=e.pagination,v=e.searchFieldList,y=e.responseHandler,g=e.showOperation,h=e.showRowSelection,w=e.addHandler,O=e.deleteHandler,j=e.Operation,S=e.showAdd,x=e.showDelete,N=e.addDisabled,k=e.isParamsNotReady,E=e.onSelectChange,P=e.getCheckboxProps,z=e.defaultSelectedKeys,C=e.hideDeletePop,F=e.childrenColumnName,I=e.hidePagination,A=e.defaultPagination,H=e.showSizeChanger,_=e.rowSelection,L=void 0===_?{}:_,D=e.listParams,T=void 0===D?{}:D,B=e.tableId,J=e.callbackPageSize,R=Object(d["a"])(e,["getList","columns","pagination","searchFieldList","responseHandler","showOperation","showRowSelection","addHandler","deleteHandler","Operation","showAdd","showDelete","addDisabled","isParamsNotReady","onSelectChange","getCheckboxProps","defaultSelectedKeys","hideDeletePop","childrenColumnName","hidePagination","defaultPagination","showSizeChanger","rowSelection","listParams","tableId","callbackPageSize"]),U={current:1,size:10,currentPage:1,pageSize:10,pageNum:1},M=Object(s["useState"])({}),K=Object(o["a"])(M,2),V=K[0],Y=K[1],W=Object(s["useState"])(!1),G=Object(o["a"])(W,2),Q=G[0],q=G[1],X=Object(s["useState"])(U),Z=Object(o["a"])(X,2),$=Z[0],ee=Z[1],te=Object(s["useState"])(z||[]),ae=Object(o["a"])(te,2),ne=ae[0],re=ae[1];function ie(e){!k&&t&&(q(!0),t(Object(c["a"])(Object(c["a"])(Object(c["a"])({},T),$),e)).then((function(e){try{var t=e.data,a=e.records,n=t||a||{};Array.isArray(n)&&(n={records:n}),y&&(n=y(n)),console.log(n),Y(n||{})}catch(r){console.log(r)}})).finally((function(){q(!1)})))}function le(e,t){ee(Object(c["a"])(Object(c["a"])({},$),{},{current:e,size:t||$.size,currentPage:e,pageSize:t||$.size,pageNum:e})),J&&J(e,t),y(V.records)}Object(s["useEffect"])((function(){ie()}),[$]),Object(s["useEffect"])((function(){re(z||[])}),[z]),n=function(e,t){console.log(e,B),e==B&&ie(t)};var ue=function(e){Object.entries(e).map((function(t){var a=Object(o["a"])(t,2),n=a[0],r=a[1];"ALL"!==r&&"-1"!=r||delete e[n]})),ee(Object(c["a"])(Object(c["a"])({},e),U))},ce=function(){return p.a.createElement(b["default"],{previewPlaceholder:p.a.createElement("span",{style:{display:"inline-block"}}),inline:!0,onSubmit:ue},v&&v.map((function(e,t){return p.a.createElement(b["SchemaMarkupField"],Object(u["a"])({},e,{key:e.name||t}))})),p.a.createElement(b["FormButtonGroup"],null,p.a.createElement(b["Submit"],null,"\u67e5\u8be2")))},oe=function(e,t){re(e),E&&E(e,t)},de=function e(t,a,n){n.push(t);var r=F||"children",i=a.find((function(e){return e.id===t}));return i&&i[r]&&i[r].map((function(t){return n.concat(e(t.id,i[r],n))})),n},se=function(e,t,a,n){var r=[];if(e.children&&e.children.length)if(t)r=de(e.id,a,[]),re(Array.from(new Set(ne.concat(r))));else{r=de(e.id,a.concat([e]),[]);var i=new Set(ne),l=new Set(r),u=Array.from(new Set(ne.concat(r).filter((function(e){return i.has(e)&&!l.has(e)}))));re(u)}},pe=Object(c["a"])({selectedRowKeys:ne,onChange:oe,getCheckboxProps:P,onSelect:se},L),be=function(){O&&O(ne),re(z||[])},fe=function(){return p.a.createElement(p.a.Fragment,null,S&&p.a.createElement(l["a"],{icon:"folder-add",type:"primary",onClick:function(){return w&&w()},disabled:N},"\u65b0\u5efa"),x&&(C?p.a.createElement(l["a"],{style:{marginLeft:8},disabled:ne.length<1,onClick:function(){return O&&O(ne)}},"\u6279\u91cf\u5220\u9664"):p.a.createElement(i["a"],{title:"\u786e\u5b9a\u5220\u9664\uff1f",onConfirm:function(){return be()},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",disabled:ne.length<1},p.a.createElement(l["a"],{style:{marginLeft:8},disabled:ne.length<1},"\u6279\u91cf\u5220\u9664"))))},me=!I&&Object(c["a"])({showTotal:function(e){return"\u5171\u8ba1".concat(e,"\u6761\u6570\u636e")},total:V.total||0,current:$.current,pageSize:$.size,onChange:le,onShowSizeChange:le,pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showSizeChanger:null==H||H},m||{});return R=A?R:Object(c["a"])(Object(c["a"])({},R),{},{pagination:me}),p.a.createElement("div",null,p.a.createElement("div",{style:{float:"left"}},j),p.a.createElement("div",{style:{float:"left"}},g&&fe()),p.a.createElement("div",{style:{float:"right"}},v&&ce()),p.a.createElement("div",{style:{clear:"both",paddingBottom:10}}),p.a.createElement(r["a"],Object(u["a"])({columns:Object(f["a"])(a),size:"small",loading:Q,dataSource:V.records||[],rowSelection:h?pe:null,rowKey:"id"},R)))}},kQFk:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={1:"\u5f00\u591a",2:"\u5f00\u7a7a",3:"\u5e73\u591a",4:"\u5e73\u7a7a"}}}]);