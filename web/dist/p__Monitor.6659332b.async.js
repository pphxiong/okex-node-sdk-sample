(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{i6n8:function(e,t,a){"use strict";a.r(t);var n=a("0Owb"),r=(a("IzEo"),a("bx4M")),i=a("WmNS"),l=a.n(i),o=a("9og8"),u=a("tJVT"),c=a("q1tI"),d=a.n(c),s=(a("g9YV"),a("wCAj")),p=(a("P2fV"),a("NJEC")),m=(a("+L6B"),a("2/Rp")),f=a("k1fw"),v=a("PpiC"),b=a("FVvW"),y=a("vu7d"),h=function(e){var t=e.getList,a=e.columns,r=e.pagination,i=e.searchFieldList,l=e.responseHandler,o=e.showOperation,h=e.showRowSelection,g=e.addHandler,w=e.deleteHandler,O=e.Operation,j=e.showAdd,S=e.showDelete,x=e.addDisabled,E=e.isParamsNotReady,C=e.onSelectChange,k=e.getCheckboxProps,N=e.defaultSelectedKeys,z=e.hideDeletePop,F=e.childrenColumnName,P=e.hidePagination,H=e.defaultPagination,A=e.showSizeChanger,D=e.rowSelection,L=void 0===D?{}:D,_=e.listParams,I=void 0===_?{}:_,T=Object(v["a"])(e,["getList","columns","pagination","searchFieldList","responseHandler","showOperation","showRowSelection","addHandler","deleteHandler","Operation","showAdd","showDelete","addDisabled","isParamsNotReady","onSelectChange","getCheckboxProps","defaultSelectedKeys","hideDeletePop","childrenColumnName","hidePagination","defaultPagination","showSizeChanger","rowSelection","listParams"]),B={current:1,size:10,currentPage:1,pageSize:10,pageNum:1},R=Object(c["useState"])({}),K=Object(u["a"])(R,2),J=K[0],Y=K[1],M=Object(c["useState"])(!1),V=Object(u["a"])(M,2),U=V[0],W=V[1],q=Object(c["useState"])(B),G=Object(u["a"])(q,2),Q=G[0],$=G[1],X=Object(c["useState"])(N||[]),Z=Object(u["a"])(X,2),ee=Z[0],te=Z[1];function ae(e){!E&&t&&(W(!0),t(Object(f["a"])(Object(f["a"])(Object(f["a"])({},I),Q),e)).then((function(e){try{var t=e.data,a=e.records,n=t||a||{};Array.isArray(n)&&(n={records:n}),l&&(n=l(n)),console.log(n),Y(n||{})}catch(r){console.log(r)}})).finally((function(){W(!1)})))}function ne(e,t){$(Object(f["a"])(Object(f["a"])({},Q),{},{current:e,size:t||Q.size,currentPage:e,pageSize:t||Q.size,pageNum:e}))}Object(c["useEffect"])((function(){ae()}),[Q]),Object(c["useEffect"])((function(){te(N||[])}),[N]),function(e){ae(e)};var re=function(e){Object.entries(e).map((function(t){var a=Object(u["a"])(t,2),n=a[0],r=a[1];"ALL"!==r&&"-1"!=r||delete e[n]})),$(Object(f["a"])(Object(f["a"])({},e),B))},ie=function(){return d.a.createElement(b["default"],{previewPlaceholder:d.a.createElement("span",{style:{display:"inline-block"}}),inline:!0,onSubmit:re},i&&i.map((function(e,t){return d.a.createElement(b["SchemaMarkupField"],Object(n["a"])({},e,{key:e.name||t}))})),d.a.createElement(b["FormButtonGroup"],null,d.a.createElement(b["Submit"],null,"\u67e5\u8be2")))},le=function(e,t){te(e),C&&C(e,t)},oe=function e(t,a,n){n.push(t);var r=F||"children",i=a.find((function(e){return e.id===t}));return i&&i[r]&&i[r].map((function(t){return n.concat(e(t.id,i[r],n))})),n},ue=function(e,t,a,n){var r=[];if(e.children&&e.children.length)if(t)r=oe(e.id,a,[]),te(Array.from(new Set(ee.concat(r))));else{r=oe(e.id,a.concat([e]),[]);var i=new Set(ee),l=new Set(r),o=Array.from(new Set(ee.concat(r).filter((function(e){return i.has(e)&&!l.has(e)}))));te(o)}},ce=Object(f["a"])({selectedRowKeys:ee,onChange:le,getCheckboxProps:k,onSelect:ue},L),de=function(){w&&w(ee),te(N||[])},se=function(){return d.a.createElement(d.a.Fragment,null,j&&d.a.createElement(m["a"],{icon:"folder-add",type:"primary",onClick:function(){return g&&g()},disabled:x},"\u65b0\u5efa"),S&&(z?d.a.createElement(m["a"],{style:{marginLeft:8},disabled:ee.length<1,onClick:function(){return w&&w(ee)}},"\u6279\u91cf\u5220\u9664"):d.a.createElement(p["a"],{title:"\u786e\u5b9a\u5220\u9664\uff1f",onConfirm:function(){return de()},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",disabled:ee.length<1},d.a.createElement(m["a"],{style:{marginLeft:8},disabled:ee.length<1},"\u6279\u91cf\u5220\u9664"))))},pe=!P&&Object(f["a"])({showTotal:function(e){return"\u5171\u8ba1".concat(e,"\u6761\u6570\u636e")},total:J.total||0,current:Q.current,pageSize:Q.size,onChange:ne,onShowSizeChange:ne,pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showSizeChanger:null==A||A},r||{});return T=H?T:Object(f["a"])(Object(f["a"])({},T),{},{pagination:pe}),d.a.createElement("div",null,d.a.createElement("div",{style:{float:"left"}},O),d.a.createElement("div",{style:{float:"left"}},o&&se()),d.a.createElement("div",{style:{float:"right"}},i&&ie()),d.a.createElement("div",{style:{clear:"both",paddingBottom:10}}),d.a.createElement(s["a"],Object(n["a"])({columns:Object(y["a"])(a),size:"small",loading:U,dataSource:J.records||[],rowSelection:h?ce:null,rowKey:"id"},T)))},g=a("wd/R"),w=a.n(g),O=a("06Lf"),j=a("t3Un"),S="/okex";function x(e){return E.apply(this,arguments)}function E(){return E=Object(o["a"])(l.a.mark((function e(t){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j["a"])("".concat(S,"/futures/getOrders"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function C(e){return k.apply(this,arguments)}function k(){return k=Object(o["a"])(l.a.mark((function e(t){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j["a"])("".concat(S,"/futures/information"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function N(e){return z.apply(this,arguments)}function z(){return z=Object(o["a"])(l.a.mark((function e(t){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j["a"])("".concat(S,"/futures/information/sentiment"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}var F={1:"\u5f00\u591a",2:"\u5f00\u7a7a",3:"\u5e73\u591a",4:"\u5e73\u7a7a"},P=[{date:"2018/8/1",type:"download",value:4623},{date:"2018/8/1",type:"register",value:2208},{date:"2018/8/1",type:"bill",value:182},{date:"2018/8/2",type:"download",value:6145},{date:"2018/8/2",type:"register",value:2016},{date:"2018/8/2",type:"bill",value:257},{date:"2018/8/3",type:"download",value:508},{date:"2018/8/3",type:"register",value:2916},{date:"2018/8/3",type:"bill",value:289},{date:"2018/8/4",type:"download",value:6268},{date:"2018/8/4",type:"register",value:4512},{date:"2018/8/4",type:"bill",value:428},{date:"2018/8/5",type:"download",value:6411},{date:"2018/8/5",type:"register",value:8281},{date:"2018/8/5",type:"bill",value:619},{date:"2018/8/6",type:"download",value:1890},{date:"2018/8/6",type:"register",value:2008},{date:"2018/8/6",type:"bill",value:87},{date:"2018/8/7",type:"download",value:4251},{date:"2018/8/7",type:"register",value:1963},{date:"2018/8/7",type:"bill",value:706},{date:"2018/8/8",type:"download",value:2978},{date:"2018/8/8",type:"register",value:2367},{date:"2018/8/8",type:"bill",value:387},{date:"2018/8/9",type:"download",value:3880},{date:"2018/8/9",type:"register",value:2956},{date:"2018/8/9",type:"bill",value:488},{date:"2018/8/10",type:"download",value:3606},{date:"2018/8/10",type:"register",value:678},{date:"2018/8/10",type:"bill",value:507},{date:"2018/8/11",type:"download",value:4311},{date:"2018/8/11",type:"register",value:3188},{date:"2018/8/11",type:"bill",value:548},{date:"2018/8/12",type:"download",value:4116},{date:"2018/8/12",type:"register",value:3491},{date:"2018/8/12",type:"bill",value:456},{date:"2018/8/13",type:"download",value:6419},{date:"2018/8/13",type:"register",value:2852},{date:"2018/8/13",type:"bill",value:689},{date:"2018/8/14",type:"download",value:1643},{date:"2018/8/14",type:"register",value:4788},{date:"2018/8/14",type:"bill",value:280},{date:"2018/8/15",type:"download",value:445},{date:"2018/8/15",type:"register",value:4319},{date:"2018/8/15",type:"bill",value:176}],H={title:{visible:!1,text:"\u591a\u6298\u7ebf\u56fe"},description:{visible:!1,text:"\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u6307\u5b9a\u6298\u7ebf\u989c\u8272"},padding:"auto",forceFit:!0,data:P,xField:"date",yField:"value",height:300,width:"100%",yAxis:{label:{formatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},legend:{position:"top-center"},color:["#1979C9","#D62A0D","#FAA219"],responsive:!1,label:{visible:!0,type:"point"}};t["default"]=function(e){var t=Object(c["useState"])([]),a=Object(u["a"])(t,2),i=a[0],s=a[1],p=Object(c["useState"])([]),m=Object(u["a"])(p,2),f=m[0],v=m[1],b=function(){var e=Object(o["a"])(l.a.mark((function e(){var t;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({instrument_id:"BTC-USD-201225"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(o["a"])(l.a.mark((function e(){var t;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({instrument_id:"EOS-USD-201225"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(o["a"])(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C({currency:"BTC"});case 2:a=e.sent,n=null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:[],s(n.filter((function(e,t){return t<40})).map((function(e){return{time:w()(e[0]).format("HH:mm:ss"),ratio:Number(e[1])}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(o["a"])(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N({currency:"BTC"});case 2:a=e.sent,n=null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:[],r=[],n.filter((function(e,t){return t<40})).map((function(e){r.push({time:w()(e[0]).format("HH:mm:ss"),ratio:Number(e[1]),type:"\u505a\u591a\u8d26\u6237"}),r.push({time:w()(e[0]).format("HH:mm:ss"),ratio:Number(e[2]),type:"\u505a\u7a7a\u8d26\u6237"})})),v(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c["useEffect"])((function(){g(),j()}),[]);var S=[{dataIndex:"type",title:"\u4ea4\u6613\u7c7b\u578b",render:function(e){return F[e]}},{dataIndex:"size",title:"\u6570\u91cf\uff08\u5f20\uff09"},{dataIndex:"price_avg",title:"\u6210\u4ea4\u5747\u4ef7"},{dataIndex:"timestamp",title:"\u6210\u4ea4\u65f6\u95f4",render:function(e){return w()(e).format("YYYY-MM-DD HH:mm:ss")}},{dataIndex:"leverage",title:"\u6760\u6746\u500d\u6570"},{dataIndex:"bzj-usd",title:"\u4fdd\u8bc1\u91d1\uff08\u7f8e\u5143\uff09",render:function(e,t){var a=t.size,n=t.contract_val,r=(t.price_avg,t.leverage);return(Number(a)*Number(n)/r).toFixed(2)}},{dataIndex:"fee-usd",title:"\u624b\u7eed\u8d39\uff08\u7f8e\u5143\uff09",render:function(e,t){return(Number(t.fee)*Number(t.price_avg)).toFixed(2)}},{dataIndex:"pnl-usd",title:"\u76c8\u4e8f\uff08\u7f8e\u5143\uff09",render:function(e,t){return(Number(t.pnl)*Number(t.price_avg)).toFixed(2)}},{dataIndex:"ratio",title:"\u76c8\u4e8f\u5360\u6bd4",render:function(e,t){var a=t.size,n=t.contract_val,r=t.price_avg,i=t.leverage,l=t.pnl;return(Number(l)*Number(r)*100/(Number(a)*Number(n)/i)).toFixed(2)+"%"}}],E=function(e){return{records:e.order_info}};return console.log(i),d.a.createElement(d.a.Fragment,null,d.a.createElement(r["a"],{title:"BTC\u4ea4\u6613\u8bb0\u5f55"},d.a.createElement(h,{columns:S,getList:b,responseHandler:E,rowKey:"order_id"})),d.a.createElement(r["a"],{title:"EOS\u4ea4\u6613\u8bb0\u5f55",style:{marginTop:10}},d.a.createElement(h,{columns:S,getList:y,responseHandler:E,rowKey:"order_id"})),d.a.createElement(r["a"],{title:"\u591a\u7a7a\u4eba\u6570\u6bd4",style:{marginTop:10}},i.length?d.a.createElement(O["a"],Object(n["a"])({},H,{height:300,data:i,xField:"time",yField:"ratio",meta:{time:{alias:"\u65f6\u95f4"},ratio:{alias:"\u591a\u7a7a\u4eba\u6570\u6bd4"}},point:{visible:!0,size:5,shape:"diamond",style:{fill:"white",stroke:"#2593fc",lineWidth:2}}})):""),d.a.createElement(r["a"],{title:"\u591a\u7a7a\u7cbe\u82f1\u8d8b\u5411\u6307\u6807",style:{marginTop:10}},i.length?d.a.createElement(O["a"],Object(n["a"])({},H,{height:300,data:f,xField:"time",yField:"ratio",seriesField:"type",meta:{time:{alias:"\u65f6\u95f4"},ratio:{alias:"\u591a\u7a7a\u4eba\u6570\u6bd4"}}})):""))}}}]);