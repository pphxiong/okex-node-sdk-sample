(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{KIUL:function(e,t,n){"use strict";n.r(t);n("Znn+");var r=n("ZTPi"),a=(n("IzEo"),n("bx4M")),u=(n("14J3"),n("BMrR")),c=(n("jCWc"),n("kPKH")),l=(n("P2fV"),n("NJEC")),i=(n("+L6B"),n("2/Rp")),s=(n("/zsF"),n("PArb")),o=(n("giR+"),n("fyUT")),m=(n("miYZ"),n("tsqr")),p=n("WmNS"),b=n.n(p),d=n("9og8"),f=n("tJVT"),v=n("q1tI"),_=n.n(v),h=n("t3Un"),g="/okex";function y(e){return E.apply(this,arguments)}function E(){return E=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/futures/getLeverage"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function O(e){return w.apply(this,arguments)}function w(){return w=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/futures/postLeverage"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function N(e){return j.apply(this,arguments)}function j(){return j=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/futures/postOrder"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return k=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/futures/getAccounts"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return C=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/futures/getMarkPrice"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function T(e){return q.apply(this,arguments)}function q(){return q=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/futures/getPosition"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function B(e){return D.apply(this,arguments)}function D(){return D=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/futures/autoCloseOrderByInstrumentId"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function M(e){return U.apply(this,arguments)}function U(){return U=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/operation/startMonitor"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function z(e){return L.apply(this,arguments)}function L(){return L=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/operation/stopMonitor"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function Y(e){return P.apply(this,arguments)}function P(){return P=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])("".concat(g,"/operation/setFrequency"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}var I=n("wd/R"),H=n.n(I),J="BTC-USD-201225",F="EOS-USD-201225";t["default"]=function(e){var t=Object(v["useState"])(10),n=Object(f["a"])(t,2),p=n[0],h=n[1],g=Object(v["useState"])(10),E=Object(f["a"])(g,2),w=E[0],j=E[1],k=Object(v["useState"])(5),C=Object(f["a"])(k,2),q=(C[0],C[1],Object(v["useState"])(1)),D=Object(f["a"])(q,2),U=D[0],L=D[1],P=Object(v["useState"])({}),I=Object(f["a"])(P,2),R=I[0],A=I[1],K=Object(v["useState"])({}),Z=Object(f["a"])(K,2),V=Z[0],W=Z[1],G=Object(v["useState"])({}),Q=Object(f["a"])(G,2),X=Q[0],$=Q[1],ee=Object(v["useState"])({}),te=Object(f["a"])(ee,2),ne=te[0],re=te[1],ae=Object(v["useState"])(0),ue=Object(f["a"])(ae,2),ce=ue[0],le=ue[1],ie=Object(v["useState"])(0),se=Object(f["a"])(ie,2),oe=se[0],me=se[1],pe=Object(v["useState"])(.5),be=Object(f["a"])(pe,2),de=(be[0],be[1],Object(v["useState"])(1)),fe=Object(f["a"])(de,2),ve=fe[0],_e=fe[1],he=Object(v["useState"])(J),ge=Object(f["a"])(he,2),ye=ge[0],Ee=ge[1],Oe=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T({instrument_id:J});case 2:return r=e.sent,A(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.holding[0]),e.next=6,T({instrument_id:F});case 6:a=e.sent,W(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.holding[0]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y({underlying:"BTC-USD"});case 2:return t=e.sent,n=t.data,h(n[J]["long_leverage"]),e.next=7,y({underlying:"EOS-USD"});case 7:r=e.sent,a=r.data,j(a[F]["long_leverage"]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({currency:"BTC-USD"});case 2:return r=e.sent,$(null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:{}),e.next=6,x({currency:"EOS-USD"});case 6:a=e.sent,re(null!==(n=null===a||void 0===a?void 0:a.data)&&void 0!==n?n:{});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S({instrument_id:J});case 2:return r=e.sent,le(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.mark_price),e.next=6,S({instrument_id:F});case 6:a=e.sent,me(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.mark_price);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d["a"])(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return _e(t),e.next=3,Y({frequency:t});case 3:n=e.sent,r=n.errcode,a=n.errmsg,0==r&&m["b"].success(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(v["useEffect"])((function(){Oe(),we(),Ne(),je()}),[]);var ke=function(){var e=Object(d["a"])(b.a.mark((function e(t){var n,r,a,u,c,l;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.underlying,r=t.leverage,a=t.instrument_id,u=t.currency,e.next=3,O({underlying:n,leverage:r,instrument_id:a,direction:"long"});case 3:return c=e.sent,l=null===c||void 0===c?void 0:c.data,e.next=7,O({underlying:n,leverage:r,instrument_id:a,direction:"short"});case 7:l&&m["b"].success("".concat(u,"\u6760\u6746\u8bbe\u7f6e\u6210\u529f"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d["a"])(b.a.mark((function e(t,n){var r,a,u;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={size:U,type:t,order_type:0,price:"BTC"==n?ce:oe,instrument_id:ye,match_price:0},e.next=3,N(a);case 3:u=e.sent,console.log(u),(null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.result)&&m["b"].success("".concat(n,"\u5f00\u4ed3\u6210\u529f"));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,r,a,u,c;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Number(R.long_avail_qty)&&!Number(R.short_avail_qty)){e.next=7;break}return n={size:Number(R.long_avail_qty)||Number(R.short_avail_qty),type:Number(R.long_avail_qty)?3:4,order_type:0,price:ce,instrument_id:R.instrument_id,match_price:0},e.next=4,N(n);case 4:r=e.sent,console.log(r),(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.result)&&m["b"].success("BTC\u5e73\u4ed3\u6302\u5355\u6210\u529f");case 7:if(!Number(V.long_avail_qty)&&!Number(V.short_avail_qty)){e.next=14;break}return u={size:Number(V.long_avail_qty)||Number(V.short_avail_qty),type:Number(V.long_avail_qty)?3:4,order_type:0,price:oe,instrument_id:V.instrument_id,match_price:0},e.next=11,N(u);case 11:c=e.sent,console.log(c),(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.result)&&m["b"].success("EOS\u5e73\u4ed3\u6302\u5355\u6210\u529f");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B({instrument_id:R.instrument_id,direction:Number(R.long_avail_qty)?"long":"short"});case 2:return r=e.sent,(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.result)&&m["b"].success("btc\u5e73\u4ed3\u6210\u529f"),e.next=6,B({instrument_id:V.instrument_id,direction:Number(V.long_avail_qty)?"long":"short"});case 6:a=e.sent,(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.result)&&m["b"].success("eos\u5e73\u4ed3\u6210\u529f");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:t=e.sent,n=t.errcode,r=t.errmsg,0==n&&m["b"].success(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,n=t.errcode,r=t.errmsg,0==n&&m["b"].success(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=(Number(R.long_pnl)+Number(R.short_pnl))*Number(R.last)+(Number(V.long_pnl)+Number(V.short_pnl))*Number(V.last),Me=(Number(R.long_margin)+Number(R.short_margin))*Number(R.last)+(Number(V.long_margin)+Number(V.short_margin))*Number(V.last),Ue=X.equity,ze=X.contracts,Le=void 0===ze?[{}]:ze,Ye=X.total_avail_balance,Pe=Le[0],Ie=Pe.margin_frozen,He=Pe.margin_for_unfilled,Je=(Number(Ue),Number(Ie),Number(He),ne.equity),Fe=ne.contracts,Re=void 0===Fe?[{}]:Fe,Ae=ne.total_avail_balance,Ke=Re[0],Ze=Ke.margin_frozen,Ve=Ke.margin_for_unfilled,We=(Number(Je),Number(Ze),Number(Ve),function(e){var t=e.currency,n=e.instrument_id,r=e.underlying,a=e.leverage;return _.a.createElement(_.a.Fragment,null,_.a.createElement("span",null,"\u8bbe\u7f6e\u6760\u6746\u500d\u6570\uff1a"),_.a.createElement(o["a"],{value:"BTC"==t?p:w,step:1,min:1,max:100,onChange:function(e){"BTC"==t?h(e):j(e)}}),_.a.createElement(s["a"],{type:"vertical"}),_.a.createElement("span",null,"\u5f00\u4ed3\u5f20\u6570\uff1a"),_.a.createElement(o["a"],{value:U,step:1,min:1,onChange:function(e){return L(e)}}),_.a.createElement(i["a"],{onClick:function(){return ke({currency:t,instrument_id:n,underlying:r,leverage:a})},type:"primary",style:{marginLeft:10}},"\u786e\u5b9a"),_.a.createElement(s["a"],{type:"horizontal"}),_.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u5f00".concat(t,"\u591a\u4ed3\uff1f"),onConfirm:function(){return Se(1,t)}},_.a.createElement(i["a"],null,"\u5f00\u591a")),_.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u5f00".concat(t,"\u7a7a\u4ed3\uff1f"),onConfirm:function(){return Se(2,t)}},_.a.createElement(i["a"],{style:{marginLeft:10}},"\u5f00\u7a7a")),_.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u8981\u5168\u90e8\u5e73\u4ed3\uff1f",onConfirm:function(){return Ce()}},_.a.createElement(i["a"],{type:"primary",style:{marginLeft:10}},"\u5168\u5e73")),_.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u8981\u5e02\u4ef7\u5168\u5e73\uff1f",onConfirm:function(){return Te()}},_.a.createElement(i["a"],{type:"primary",style:{marginLeft:10}},"\u5e02\u4ef7\u5168\u5e73")))});return _.a.createElement(_.a.Fragment,null,_.a.createElement(a["a"],{title:"\u6301\u4ed3\u60c5\u51b5",extra:_.a.createElement(i["a"],{onClick:function(){return Oe()}},"\u5237\u65b0")},_.a.createElement(u["a"],{gutter:12},_.a.createElement(c["a"],{span:12},_.a.createElement("h3",null,"BTC"),_.a.createElement("p",null,"ID\uff1a",R.instrument_id),_.a.createElement("p",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",H()(R.updated_at).format("YYYY-MM-DD HH:mm:ss")),_.a.createElement("p",null,"\u6760\u6746\u500d\u6570\uff1a",R.long_leverage),_.a.createElement("p",null,"\u6570\u91cf\uff08\u5f20\uff09\uff1a\u591a ",R.long_qty," \u7a7a ",R.short_qty),_.a.createElement("p",null,"\u5f00\u4ed3\u5747\u4ef7\uff1a",R.long_avg_cost),_.a.createElement("p",null,"\u6700\u65b0\u6210\u4ea4\u4ef7\uff08\u7f8e\u5143\uff09\uff1a",R.last),_.a.createElement("p",null,"\u591a\u4ed3\u4fdd\u8bc1\u91d1(BTC)\uff1a",R.long_margin),_.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca(BTC)\uff1a",R.long_pnl),_.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(R.long_margin)&&Number(R.long_unrealised_pnl)/Number(R.long_margin)*100),_.a.createElement("p",null,"\u7a7a\u4ed3\u4fdd\u8bc1\u91d1\uff08BTC)\uff1a",R.short_margin),_.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\uff08BTC)\uff1a",R.short_pnl),_.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(R.short_margin)&&Number(R.short_unrealised_pnl)/Number(R.short_margin)*100),_.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff1a",R.realised_pnl),_.a.createElement("p",null,"\u4fdd\u8bc1\u91d1\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(R.long_margin)*Number(R.last)),_.a.createElement("p",null,"\u6536\u76ca\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(R.long_pnl)*Number(R.last)),_.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(R.realised_pnl)*Number(R.last))),_.a.createElement(c["a"],{span:12},_.a.createElement("h3",null,"EOS"),_.a.createElement("p",null,"ID\uff1a",V.instrument_id),_.a.createElement("p",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",H()(V.updated_at).format("YYYY-MM-DD HH:mm:ss")),_.a.createElement("p",null,"\u6760\u6746\u500d\u6570\uff1a",V.long_leverage),_.a.createElement("p",null,"\u6570\u91cf\uff08\u5f20\uff09\uff1a\u591a ",V.long_qty," \u7a7a ",V.short_qty),_.a.createElement("p",null,"\u5f00\u4ed3\u5747\u4ef7\uff1a",V.short_avg_cost),_.a.createElement("p",null,"\u6700\u65b0\u6210\u4ea4\u4ef7\uff08\u7f8e\u5143\uff09\uff1a",V.last),_.a.createElement("p",null,"\u591a\u4ed3\u4fdd\u8bc1\u91d1(EOS)\uff1a",V.long_margin),_.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca(EOS)\uff1a",V.long_pnl),_.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(V.long_margin)&&Number(V.long_unrealised_pnl)/Number(V.long_margin)*100),_.a.createElement("p",null,"\u7a7a\u4ed3\u4fdd\u8bc1\u91d1\uff08EOS)\uff1a",V.short_margin),_.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\uff08EOS)\uff1a",V.short_pnl),_.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(R.short_margin)&&Number(R.short_unrealised_pnl)/Number(R.short_margin)*100),_.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff1a",V.realised_pnl),_.a.createElement("p",null,"\u4fdd\u8bc1\u91d1\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",(Number(V.short_margin)+Number(V.long_margin))*Number(V.last)),_.a.createElement("p",null,"\u6536\u76ca\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(V.short_pnl)*Number(V.last)),_.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(V.realised_pnl)*Number(V.last)))),_.a.createElement(s["a"],null),_.a.createElement(u["a"],null,_.a.createElement(c["a"],{span:24},_.a.createElement("h3",null,"\u5171\u8ba1"),_.a.createElement("p",null,"\u6536\u76ca\uff08\u7f8e\u5143\uff09\uff1a",De),_.a.createElement("p",null,"\u6536\u76ca\u7387\uff08%\uff09\uff1a",De/Me*100),_.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff08\u7f8e\u5143\uff09\uff1a",Number(R.realised_pnl)*Number(R.last)+Number(V.realised_pnl)*Number(V.last))))),_.a.createElement(a["a"],{title:"\u5408\u7ea6\u8d26\u6237\u4fe1\u606f",style:{marginTop:10}},_.a.createElement("p",null,"BTC\u4f59\u989d\uff1a",Ye,_.a.createElement(s["a"],{type:"vertical"}),"\u6807\u8bb0\u4ef7\u683c\uff1a",ce,_.a.createElement(s["a"],{type:"vertical"}),"\u53ef\u5f00\u5f20\u6570\uff1a",Math.floor(Number(Ye)*Number(ce)*p*.98/100)),_.a.createElement("p",null,"EOS\u4f59\u989d\uff1a",Ae,_.a.createElement(s["a"],{type:"vertical"}),"\u6807\u8bb0\u4ef7\u683c\uff1a",oe,_.a.createElement(s["a"],{type:"vertical"}),"\u53ef\u5f00\u5f20\u6570\uff1a",Math.floor(Number(Ae)*Number(oe)*w*.98/10))),_.a.createElement(a["a"],{title:"\u4ea4\u5272\u5408\u7ea6",style:{marginTop:10}},_.a.createElement(r["a"],{defaultActiveKey:J,onChange:function(e){return Ee(e)}},_.a.createElement(r["a"].TabPane,{tab:"BTC",key:J},_.a.createElement(We,{instrument_id:J,currency:"BTC",underlying:"BTC-USD",leverage:p})),_.a.createElement(r["a"].TabPane,{tab:"EOS",key:F},_.a.createElement(We,{instrument_id:F,currency:"EOS",underlying:"EOS-USD",leverage:w})))),_.a.createElement(a["a"],{title:"\u64cd\u4f5c",style:{marginTop:10}},_.a.createElement("p",null,"\u4ea4\u6613\u9891\u6b21\uff1a",_.a.createElement(o["a"],{value:ve,step:.1,min:.1,onChange:function(e){return xe(e)}})),_.a.createElement(s["a"],{type:"horizontal"}),_.a.createElement(i["a"],{onClick:function(){return qe()}},"\u505c\u6b62\u76d1\u63a7"),_.a.createElement(i["a"],{onClick:function(){return Be()},type:"primary",style:{marginLeft:10}},"\u5f00\u59cb\u76d1\u63a7")))}}}]);