(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"86Wc":function(e,t,n){"use strict";n.r(t);n("Znn+");var r=n("ZTPi"),a=(n("IzEo"),n("bx4M")),u=(n("14J3"),n("BMrR")),c=(n("jCWc"),n("kPKH")),l=(n("P2fV"),n("NJEC")),i=(n("+L6B"),n("2/Rp")),s=(n("/zsF"),n("PArb")),o=(n("giR+"),n("fyUT")),p=(n("miYZ"),n("tsqr")),m=n("WmNS"),b=n.n(m),f=n("9og8"),d=n("tJVT"),h=n("q1tI"),v=n.n(h),g=n("t3Un"),_="/okex";function E(e){return y.apply(this,arguments)}function y(){return y=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/futures/getLeverage"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function w(e){return O.apply(this,arguments)}function O(){return O=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/futures/postLeverage"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function N(e){return j.apply(this,arguments)}function j(){return j=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/futures/postOrder"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return k=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/futures/getAccounts"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return S=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/futures/getMarkPrice"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function T(e){return B.apply(this,arguments)}function B(){return B=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/futures/getPosition"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function q(e){return D.apply(this,arguments)}function D(){return D=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/futures/autoCloseOrderByInstrumentId"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function M(e){return U.apply(this,arguments)}function U(){return U=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/operation/startMonitor"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function Y(e){return z.apply(this,arguments)}function z(){return z=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/operation/stopMonitor"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return P=Object(f["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])("".concat(_,"/operation/setFrequency"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}var I=n("wd/R"),H=n.n(I),J="BTC-USD-201225",F="EOS-USD-201225";t["default"]=function(e){var t=Object(h["useState"])(10),n=Object(d["a"])(t,2),m=n[0],g=n[1],_=Object(h["useState"])(10),y=Object(d["a"])(_,2),O=y[0],j=y[1],k=Object(h["useState"])(1),S=Object(d["a"])(k,2),B=S[0],D=S[1],U=Object(h["useState"])({}),z=Object(d["a"])(U,2),P=z[0],I=z[1],R=Object(h["useState"])({}),A=Object(d["a"])(R,2),W=A[0],Z=A[1],K=Object(h["useState"])({}),V=Object(d["a"])(K,2),G=V[0],Q=V[1],X=Object(h["useState"])({}),$=Object(d["a"])(X,2),ee=$[0],te=$[1],ne=Object(h["useState"])(0),re=Object(d["a"])(ne,2),ae=re[0],ue=re[1],ce=Object(h["useState"])(0),le=Object(d["a"])(ce,2),ie=le[0],se=le[1],oe=Object(h["useState"])(.5),pe=Object(d["a"])(oe,2),me=(pe[0],pe[1],Object(h["useState"])(.5)),be=Object(d["a"])(me,2),fe=be[0],de=be[1],he=Object(h["useState"])(J),ve=Object(d["a"])(he,2),ge=ve[0],_e=ve[1],Ee=function(){var e=Object(f["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T({instrument_id:J});case 2:return r=e.sent,I(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.holding[0]),e.next=6,T({instrument_id:F});case 6:a=e.sent,Z(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.holding[0]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(f["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,E({underlying:"BTC-USD"});case 2:return t=e.sent,n=t.data,g(n[J]["long_leverage"]),e.next=7,E({underlying:"EOS-USD"});case 7:r=e.sent,a=r.data,j(a[F]["long_leverage"]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(f["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({currency:"BTC-USD"});case 2:return r=e.sent,Q(null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:{}),e.next=6,x({currency:"EOS-USD"});case 6:a=e.sent,te(null!==(n=null===a||void 0===a?void 0:a.data)&&void 0!==n?n:{});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(f["a"])(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C({instrument_id:J});case 2:return r=e.sent,ue(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.mark_price),e.next=6,C({instrument_id:F});case 6:a=e.sent,se(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.mark_price);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(f["a"])(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return de(t),e.next=3,L({frequency:t});case 3:n=e.sent,r=n.errcode,a=n.errmsg,0==r&&p["b"].success(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(h["useEffect"])((function(){Ee(),ye(),we(),Oe()}),[]);var je=function(){var e=Object(f["a"])(b.a.mark((function e(t){var n,r,a,u,c,l;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.underlying,r=t.leverage,a=t.instrument_id,u=t.currency,e.next=3,w({underlying:n,leverage:r,instrument_id:a,direction:"long"});case 3:return c=e.sent,l=null===c||void 0===c?void 0:c.data,e.next=7,w({underlying:n,leverage:r,instrument_id:a,direction:"short"});case 7:l&&p["b"].success("".concat(u,"\u6760\u6746\u8bbe\u7f6e\u6210\u529f"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(f["a"])(b.a.mark((function e(t,n){var r,a,u;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={size:B,type:t,order_type:0,price:"BTC"==n?ae:ie,instrument_id:ge,match_price:0},e.next=3,N(a);case 3:u=e.sent,console.log(u),(null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.result)&&p["b"].success("".concat(n,"\u5f00\u4ed3\u6210\u529f"));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(f["a"])(b.a.mark((function e(t){var n,r,a,u,c;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="BTC"==t?P:W,r="BTC"==t?ae:ie,!Number(n.long_avail_qty)&&!Number(n.short_avail_qty)){e.next=9;break}return u={size:Number(n.long_avail_qty)||Number(n.short_avail_qty),type:Number(n.long_avail_qty)?3:4,order_type:0,price:r,instrument_id:n.instrument_id,match_price:0},e.next=6,N(u);case 6:c=e.sent,console.log(c),(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.result)&&p["b"].success("".concat(t,"\u5e73\u4ed3\u6302\u5355\u6210\u529f"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(f["a"])(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="BTC"==t?P:W,e.next=3,q({instrument_id:r.instrument_id,direction:Number(r.long_avail_qty)?"long":"short"});case 3:a=e.sent,(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.result)&&p["b"].success("".concat(t,"\u5e73\u4ed3\u6210\u529f"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(f["a"])(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:t=e.sent,n=t.errcode,r=t.errmsg,0==n&&p["b"].success(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(f["a"])(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,n=t.errcode,r=t.errmsg,0==n&&p["b"].success(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=(Number(P.long_pnl)+Number(P.short_pnl))*Number(P.last)+(Number(W.long_pnl)+Number(W.short_pnl))*Number(W.last),qe=(Number(P.long_margin)+Number(P.short_margin))*Number(P.last)+(Number(W.long_margin)+Number(W.short_margin))*Number(W.last),De=G.equity,Me=G.contracts,Ue=void 0===Me?[{}]:Me,Ye=G.total_avail_balance,ze=Ue[0],Le=ze.margin_frozen,Pe=ze.margin_for_unfilled,Ie=(Number(De),Number(Le),Number(Pe),ee.equity),He=ee.contracts,Je=void 0===He?[{}]:He,Fe=ee.total_avail_balance,Re=Je[0],Ae=Re.margin_frozen,We=Re.margin_for_unfilled,Ze=(Number(Ie),Number(Ae),Number(We),function(e){var t=e.currency,n=e.instrument_id,r=e.underlying,a=e.leverage;return v.a.createElement(v.a.Fragment,null,v.a.createElement("span",null,"\u8bbe\u7f6e\u6760\u6746\u500d\u6570\uff1a"),v.a.createElement(o["a"],{value:"BTC"==t?m:O,step:1,min:1,max:100,onChange:function(e){"BTC"==t?g(e):j(e)}}),v.a.createElement(s["a"],{type:"vertical"}),v.a.createElement("span",null,"\u5f00\u4ed3\u5f20\u6570\uff1a"),v.a.createElement(o["a"],{value:B,step:1,min:1,onChange:function(e){return D(e)}}),v.a.createElement(i["a"],{onClick:function(){return je({currency:t,instrument_id:n,underlying:r,leverage:a})},type:"primary",style:{marginLeft:10}},"\u786e\u5b9a"),v.a.createElement(s["a"],{type:"horizontal"}),v.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u5f00".concat(t,"\u591a\u4ed3\uff1f"),onConfirm:function(){return xe(1,t)}},v.a.createElement(i["a"],null,"\u5f00\u591a")),v.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u5f00".concat(t,"\u7a7a\u4ed3\uff1f"),onConfirm:function(){return xe(2,t)}},v.a.createElement(i["a"],{style:{marginLeft:10}},"\u5f00\u7a7a")),v.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u8981".concat(t,"\u5e73\u4ed3\uff1f"),onConfirm:function(){return ke(t)}},v.a.createElement(i["a"],{type:"primary",style:{marginLeft:10}},"\u5e73\u4ed3")),v.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u8981".concat(t,"\u5e02\u4ef7\u5e73\u4ed3\uff1f"),onConfirm:function(){return Ce(t)}},v.a.createElement(i["a"],{type:"primary",style:{marginLeft:10}},"\u5e02\u4ef7\u5e73\u4ed3")))});return v.a.createElement(v.a.Fragment,null,v.a.createElement(a["a"],{title:"\u6301\u4ed3\u60c5\u51b5",extra:v.a.createElement(i["a"],{onClick:function(){return Ee()}},"\u5237\u65b0")},v.a.createElement(u["a"],{gutter:12},v.a.createElement(c["a"],{span:12},v.a.createElement("h3",null,"BTC"),v.a.createElement("p",null,"ID\uff1a",P.instrument_id),v.a.createElement("p",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",H()(P.updated_at).format("YYYY-MM-DD HH:mm:ss")),v.a.createElement("p",null,"\u6760\u6746\u500d\u6570\uff1a",P.long_leverage),v.a.createElement("p",null,"\u6570\u91cf\uff08\u5f20\uff09\uff1a\u591a ",P.long_qty," \u7a7a ",P.short_qty),v.a.createElement("p",null,"\u5f00\u4ed3\u5747\u4ef7\uff1a",P.long_avg_cost),v.a.createElement("p",null,"\u6700\u65b0\u6210\u4ea4\u4ef7\uff08\u7f8e\u5143\uff09\uff1a",P.last),v.a.createElement("p",null,"\u591a\u4ed3\u4fdd\u8bc1\u91d1(BTC)\uff1a",P.long_margin),v.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca(BTC)\uff1a",P.long_pnl),v.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(P.long_margin)&&Number(P.long_unrealised_pnl)/Number(P.long_margin)*100),v.a.createElement("p",null,"\u7a7a\u4ed3\u4fdd\u8bc1\u91d1\uff08BTC)\uff1a",P.short_margin),v.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\uff08BTC)\uff1a",P.short_pnl),v.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(P.short_margin)&&Number(P.short_unrealised_pnl)/Number(P.short_margin)*100),v.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff1a",P.realised_pnl),v.a.createElement("p",null,"\u4fdd\u8bc1\u91d1\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(P.long_margin)*Number(P.last)),v.a.createElement("p",null,"\u6536\u76ca\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(P.long_pnl)*Number(P.last)),v.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(P.realised_pnl)*Number(P.last))),v.a.createElement(c["a"],{span:12},v.a.createElement("h3",null,"EOS"),v.a.createElement("p",null,"ID\uff1a",W.instrument_id),v.a.createElement("p",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",H()(W.updated_at).format("YYYY-MM-DD HH:mm:ss")),v.a.createElement("p",null,"\u6760\u6746\u500d\u6570\uff1a",W.long_leverage),v.a.createElement("p",null,"\u6570\u91cf\uff08\u5f20\uff09\uff1a\u591a ",W.long_qty," \u7a7a ",W.short_qty),v.a.createElement("p",null,"\u5f00\u4ed3\u5747\u4ef7\uff1a",W.short_avg_cost),v.a.createElement("p",null,"\u6700\u65b0\u6210\u4ea4\u4ef7\uff08\u7f8e\u5143\uff09\uff1a",W.last),v.a.createElement("p",null,"\u591a\u4ed3\u4fdd\u8bc1\u91d1(EOS)\uff1a",W.long_margin),v.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca(EOS)\uff1a",W.long_pnl),v.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(W.long_margin)&&Number(W.long_unrealised_pnl)/Number(W.long_margin)*100),v.a.createElement("p",null,"\u7a7a\u4ed3\u4fdd\u8bc1\u91d1\uff08EOS)\uff1a",W.short_margin),v.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\uff08EOS)\uff1a",W.short_pnl),v.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(P.short_margin)&&Number(P.short_unrealised_pnl)/Number(P.short_margin)*100),v.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff1a",W.realised_pnl),v.a.createElement("p",null,"\u4fdd\u8bc1\u91d1\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",(Number(W.short_margin)+Number(W.long_margin))*Number(W.last)),v.a.createElement("p",null,"\u6536\u76ca\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(W.short_pnl)*Number(W.last)),v.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(W.realised_pnl)*Number(W.last)))),v.a.createElement(s["a"],null),v.a.createElement(u["a"],null,v.a.createElement(c["a"],{span:24},v.a.createElement("h3",null,"\u5171\u8ba1"),v.a.createElement("p",null,"\u6536\u76ca\uff08\u7f8e\u5143\uff09\uff1a",Be),v.a.createElement("p",null,"\u6536\u76ca\u7387\uff08%\uff09\uff1a",Be/qe*100),v.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff08\u7f8e\u5143\uff09\uff1a",Number(P.realised_pnl)*Number(P.last)+Number(W.realised_pnl)*Number(W.last))))),v.a.createElement(a["a"],{title:"\u5408\u7ea6\u8d26\u6237\u4fe1\u606f",style:{marginTop:10}},v.a.createElement("p",null,"BTC\u4f59\u989d\uff1a",Ye,v.a.createElement(s["a"],{type:"vertical"}),"\u6807\u8bb0\u4ef7\u683c\uff1a",ae,v.a.createElement(s["a"],{type:"vertical"}),"\u53ef\u5f00\u5f20\u6570\uff1a",Math.floor(Number(Ye)*Number(ae)*m*.98/100)),v.a.createElement("p",null,"EOS\u4f59\u989d\uff1a",Fe,v.a.createElement(s["a"],{type:"vertical"}),"\u6807\u8bb0\u4ef7\u683c\uff1a",ie,v.a.createElement(s["a"],{type:"vertical"}),"\u53ef\u5f00\u5f20\u6570\uff1a",Math.floor(Number(Fe)*Number(ie)*O*.98/10))),v.a.createElement(a["a"],{title:"\u4ea4\u5272\u5408\u7ea6",style:{marginTop:10}},v.a.createElement(r["a"],{defaultActiveKey:J,onChange:function(e){return _e(e)}},v.a.createElement(r["a"].TabPane,{tab:"BTC",key:J},v.a.createElement(Ze,{instrument_id:J,currency:"BTC",underlying:"BTC-USD",leverage:m})),v.a.createElement(r["a"].TabPane,{tab:"EOS",key:F},v.a.createElement(Ze,{instrument_id:F,currency:"EOS",underlying:"EOS-USD",leverage:O})))),v.a.createElement(a["a"],{title:"\u64cd\u4f5c",style:{marginTop:10}},v.a.createElement("p",null,"\u4ea4\u6613\u9891\u6b21\uff1a",v.a.createElement(o["a"],{value:fe,step:.1,min:.1,onChange:function(e){return Ne(e)}})),v.a.createElement(s["a"],{type:"horizontal"}),v.a.createElement(i["a"],{onClick:function(){return Se()}},"\u505c\u6b62\u76d1\u63a7"),v.a.createElement(i["a"],{onClick:function(){return Te()},type:"primary",style:{marginLeft:10}},"\u5f00\u59cb\u76d1\u63a7")))}}}]);