(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{LcRG:function(e,t,n){"use strict";n.r(t);n("Znn+");var a=n("ZTPi"),r=(n("IzEo"),n("bx4M")),u=(n("14J3"),n("BMrR")),c=(n("jCWc"),n("kPKH")),l=(n("P2fV"),n("NJEC")),i=(n("+L6B"),n("2/Rp")),s=(n("/zsF"),n("PArb")),o=(n("giR+"),n("fyUT")),p=(n("miYZ"),n("tsqr")),m=n("WmNS"),b=n.n(m),d=n("9og8"),f=n("tJVT"),v=n("q1tI"),h=n.n(v),E=n("t3Un"),g="/okexSwap";function w(e){return y.apply(this,arguments)}function y(){return y=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/swap/getLeverage"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function O(e){return N.apply(this,arguments)}function N(){return N=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/swap/postLeverage"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function _(e){return j.apply(this,arguments)}function j(){return j=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/swap/postOrder"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return k=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/swap/getAccounts"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return S=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/swap/getMarkPrice"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function z(e){return T.apply(this,arguments)}function T(){return T=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/swap/getPosition"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function B(e){return M.apply(this,arguments)}function M(){return M=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/swap/autoCloseOrderByInstrumentId"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return P=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/operation/startMonitor"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function Y(e){return D.apply(this,arguments)}function D(){return D=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/operation/stopMonitor"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function q(e){return I.apply(this,arguments)}function I(){return I=Object(d["a"])(b.a.mark((function e(t){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(E["a"])("".concat(g,"/operation/setFrequency"),{params:t}));case 1:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}var A=n("wd/R"),H=n.n(A),J="BTC-USD-SWAP",R="EOS-USD-SWAP";t["default"]=function(e){var t=Object(v["useState"])(10),n=Object(f["a"])(t,2),m=n[0],E=n[1],g=Object(v["useState"])(10),y=Object(f["a"])(g,2),N=y[0],j=y[1],k=Object(v["useState"])(5),S=Object(f["a"])(k,2),T=(S[0],S[1],Object(v["useState"])(1)),M=Object(f["a"])(T,2),P=M[0],D=M[1],I=Object(v["useState"])({}),A=Object(f["a"])(I,2),F=A[0],U=A[1],W=Object(v["useState"])({}),Z=Object(f["a"])(W,2),K=Z[0],V=Z[1],G=Object(v["useState"])({}),Q=Object(f["a"])(G,2),X=Q[0],$=Q[1],ee=Object(v["useState"])({}),te=Object(f["a"])(ee,2),ne=te[0],ae=te[1],re=Object(v["useState"])({}),ue=Object(f["a"])(re,2),ce=ue[0],le=ue[1],ie=Object(v["useState"])({}),se=Object(f["a"])(ie,2),oe=se[0],pe=se[1],me=Object(v["useState"])(0),be=Object(f["a"])(me,2),de=be[0],fe=be[1],ve=Object(v["useState"])(0),he=Object(f["a"])(ve,2),Ee=he[0],ge=he[1],we=Object(v["useState"])(.5),ye=Object(f["a"])(we,2),Oe=(ye[0],ye[1],Object(v["useState"])(1)),Ne=Object(f["a"])(Oe,2),_e=Ne[0],je=Ne[1],xe=Object(v["useState"])(J),ke=Object(f["a"])(xe,2),Ce=ke[0],Se=ke[1],ze=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,a,r,u,c,l,i,s,o,p,m,d,f;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z({instrument_id:J});case 2:return u=e.sent,c=null!==(t=null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.holding[0])&&void 0!==t?t:{},l=c.side,"long"==l?(U(null===u||void 0===u||null===(i=u.data)||void 0===i?void 0:i.holding[0]),V({})):(U({}),V(null===u||void 0===u||null===(s=u.data)||void 0===s?void 0:s.holding[0])),e.next=7,z({instrument_id:R});case 7:o=e.sent,p=null!==(a=null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.holding[0])&&void 0!==a?a:{},m=p.side,"long"==m?($(null===o||void 0===o||null===(d=o.data)||void 0===d?void 0:d.holding[0]),ae({})):($({}),ae(null===o||void 0===o||null===(f=o.data)||void 0===f?void 0:f.holding[0]));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,a,r;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w({instrument_id:J});case 2:return t=e.sent,n=t.data,E(n["long_leverage"]),e.next=7,w({instrument_id:R});case 7:a=e.sent,r=a.data,j(r["long_leverage"]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,a,r,u;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({instrument_id:J});case 2:return u=e.sent,le(null!==(t=null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.info)&&void 0!==t?t:{}),e.next=6,x({instrument_id:R});case 6:e.sent,pe(null!==(a=null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.info)&&void 0!==a?a:{});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,a,r;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C({instrument_id:J});case 2:return a=e.sent,fe(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.mark_price),e.next=6,C({instrument_id:R});case 6:r=e.sent,ge(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.mark_price);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q({frequency:_e});case 2:t=e.sent,n=t.errcode,a=t.errmsg,0==n&&p["b"].success(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(v["useEffect"])((function(){ze(),Te(),Be(),Me()}),[]);var Pe=function(){var e=Object(d["a"])(b.a.mark((function e(t){var n,a,r,u,c;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.leverage,a=t.instrument_id,r=t.currency,e.next=3,O({leverage:n,instrument_id:a,side:"1"});case 3:return u=e.sent,c=null===u||void 0===u?void 0:u.data,e.next=7,O({leverage:n,instrument_id:a,side:"2"});case 7:c&&p["b"].success("".concat(r,"\u6760\u6746\u8bbe\u7f6e\u6210\u529f"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(d["a"])(b.a.mark((function e(t,n){var a,r,u;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={size:P,type:t,order_type:0,price:"BTC"==n?de:Ee,instrument_id:Ce,match_price:0},e.next=3,_(r);case 3:u=e.sent,console.log(u),(null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.result)&&p["b"].success("".concat(n,"\u5f00\u4ed3\u6210\u529f"));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(d["a"])(b.a.mark((function e(t){var n,a,r,u,c;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="BTC"==t?Number(F.position)?F:K:Number(X.position)?X:ne,a="BTC"==t?de:Ee,!Number(n.position)){e.next=9;break}return u={size:Number(n.avail_position),type:"long"==n.side?3:4,order_type:0,price:a,instrument_id:n.instrument_id,match_price:0},e.next=6,_(u);case 6:c=e.sent,console.log(c),(null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.result)&&p["b"].success("".concat(t,"\u5e73\u4ed3\u6302\u5355\u6210\u529f"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(d["a"])(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="BTC"==t?[F,K]:[X,ne],e.next=3,B({instrument_id:a[0].instrument_id,direction:Number(a[0].position)?"long":"short"});case 3:r=e.sent,(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.result)&&p["b"].success("".concat(t,"\u5e73\u4ed3\u6210\u529f"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:t=e.sent,n=t.errcode,a=t.errmsg,0==n&&p["b"].success(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(d["a"])(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,n=t.errcode,a=t.errmsg,0==n&&p["b"].success(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=(Number(F.unrealized_pnl)+Number(K.unrealized_pnl))*Number(F.last)+(Number(X.unrealized_pnl)+Number(ne.unrealized_pnl))*Number(X.last),Je=(Number(F.margin)+Number(K.margin))*Number(F.last)+(Number(X.margin)+Number(ne.margin))*Number(X.last),Re=ce.equity,Fe=ce.contracts,Ue=void 0===Fe?[{}]:Fe,We=ce.total_avail_balance,Ze=Ue[0],Ke=Ze.margin_frozen,Ve=Ze.margin_for_unfilled,Ge=(Number(Re),Number(Ke),Number(Ve),oe.equity),Qe=oe.contracts,Xe=void 0===Qe?[{}]:Qe,$e=oe.total_avail_balance,et=Xe[0],tt=et.margin_frozen,nt=et.margin_for_unfilled,at=(Number(Ge),Number(tt),Number(nt),function(e){var t=e.currency,n=e.instrument_id,a=e.leverage;return h.a.createElement(h.a.Fragment,null,h.a.createElement("span",null,"\u8bbe\u7f6e\u6760\u6746\u500d\u6570\uff1a"),h.a.createElement(o["a"],{value:"BTC"==t?m:N,step:1,min:1,max:100,onChange:function(e){"BTC"==t?E(e):j(e)}}),h.a.createElement(s["a"],{type:"vertical"}),h.a.createElement("span",null,"\u5f00\u4ed3\u5f20\u6570\uff1a"),h.a.createElement(o["a"],{value:P,step:1,min:1,onChange:function(e){return D(e)}}),h.a.createElement(i["a"],{onClick:function(){return Pe({currency:t,instrument_id:n,leverage:a})},type:"primary",style:{marginLeft:10}},"\u786e\u5b9a"),h.a.createElement(s["a"],{type:"horizontal"}),h.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u5f00".concat(t,"\u591a\u4ed3\uff1f"),onConfirm:function(){return Ye(1,t)}},h.a.createElement(i["a"],null,"\u5f00\u591a")),h.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u5f00".concat(t,"\u7a7a\u4ed3\uff1f"),onConfirm:function(){return Ye(2,t)}},h.a.createElement(i["a"],{style:{marginLeft:10}},"\u5f00\u7a7a")),h.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u8981".concat(t,"\u5e73\u4ed3\uff1f"),onConfirm:function(){return De(t)}},h.a.createElement(i["a"],{type:"primary",style:{marginLeft:10}},"\u5e73\u4ed3")),h.a.createElement(l["a"],{title:"\u662f\u5426\u786e\u5b9a\u8981".concat(t,"\u5e02\u4ef7\u5e73\u4ed3\uff1f"),onConfirm:function(){return qe(t)}},h.a.createElement(i["a"],{type:"primary",style:{marginLeft:10}},"\u5e02\u4ef7\u5e73\u4ed3")))});return h.a.createElement(h.a.Fragment,null,h.a.createElement(r["a"],{title:"\u6301\u4ed3\u60c5\u51b5",extra:h.a.createElement(i["a"],{onClick:function(){return ze()}},"\u5237\u65b0")},h.a.createElement(u["a"],{gutter:12},h.a.createElement(c["a"],{span:12},h.a.createElement("h3",null,"BTC"),h.a.createElement("p",null,"ID\uff1a",F.instrument_id),h.a.createElement("p",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",H()(F.timestamp).format("YYYY-MM-DD HH:mm:ss")),h.a.createElement("p",null,"\u6760\u6746\u500d\u6570\uff1a",F.leverage),h.a.createElement("p",null,"\u6570\u91cf\uff08\u5f20\uff09\uff1a\u591a ",F.position," \u7a7a ",K.position),h.a.createElement("p",null,"\u5f00\u4ed3\u5747\u4ef7\uff1a",F.avg_cost),h.a.createElement("p",null,"\u6700\u65b0\u6210\u4ea4\u4ef7\uff08\u7f8e\u5143\uff09\uff1a",F.last),h.a.createElement("p",null,"\u591a\u4ed3\u4fdd\u8bc1\u91d1(BTC)\uff1a",F.margin),h.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca(BTC)\uff1a",F.unrealized_pnl),h.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(F.margin)&&Number(F.unrealized_pnl)/Number(F.margin)*100),h.a.createElement("p",null,"\u7a7a\u4ed3\u4fdd\u8bc1\u91d1\uff08BTC)\uff1a",K.margin),h.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\uff08BTC)\uff1a",K.unrealized_pnl),h.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(K.margin)&&Number(K.unrealized_pnl)/Number(K.margin)*100),h.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff1a",Number(K.realized_pnl)+Number(K.realized_pnl)),h.a.createElement("p",null,"\u4fdd\u8bc1\u91d1\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(F.margin)*Number(F.last)+Number(K.margin)*Number(K.last)),h.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(F.realized_pnl)*Number(F.last)+Number(K.realized_pnl)*Number(K.last))),h.a.createElement(c["a"],{span:12},h.a.createElement("h3",null,"EOS"),h.a.createElement("p",null,"ID\uff1a",X.instrument_id),h.a.createElement("p",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",H()(X.timestamp).format("YYYY-MM-DD HH:mm:ss")),h.a.createElement("p",null,"\u6760\u6746\u500d\u6570\uff1a",X.leverage),h.a.createElement("p",null,"\u6570\u91cf\uff08\u5f20\uff09\uff1a\u591a ",X.position," \u7a7a ",ne.position),h.a.createElement("p",null,"\u5f00\u4ed3\u5747\u4ef7\uff1a",X.avg_cost),h.a.createElement("p",null,"\u6700\u65b0\u6210\u4ea4\u4ef7\uff08\u7f8e\u5143\uff09\uff1a",X.last),h.a.createElement("p",null,"\u591a\u4ed3\u4fdd\u8bc1\u91d1(EOS)\uff1a",X.margin),h.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca(EOS)\uff1a",X.unrealized_pnl),h.a.createElement("p",null,"\u591a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(X.margin)&&Number(X.unrealized_pnl)/Number(X.margin)*100),h.a.createElement("p",null,"\u7a7a\u4ed3\u4fdd\u8bc1\u91d1\uff08EOS)\uff1a",ne.margin),h.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\uff08EOS)\uff1a",ne.unrealized_pnl),h.a.createElement("p",null,"\u7a7a\u4ed3\u6536\u76ca\u7387\uff08%\uff09\uff1a",Number(ne.margin)&&Number(ne.unrealized_pnl)/Number(ne.margin)*100),h.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff1a",Number(ne.realized_pnl)+Number(ne.realized_pnl)),h.a.createElement("p",null,"\u4fdd\u8bc1\u91d1\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(X.margin)*Number(X.last)+Number(ne.margin)*Number(ne.last)),h.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\u6298\u5408\uff08\u7f8e\u5143\uff09\uff1a",Number(X.realized_pnl)*Number(X.last)+Number(ne.realized_pnl)*Number(ne.last)))),h.a.createElement(s["a"],null),h.a.createElement(u["a"],null,h.a.createElement(c["a"],{span:24},h.a.createElement("h3",null,"\u5171\u8ba1"),h.a.createElement("p",null,"\u6536\u76ca\uff08\u7f8e\u5143\uff09\uff1a",He),h.a.createElement("p",null,"\u6536\u76ca\u7387\uff08%\uff09\uff1a",He/Je*100),h.a.createElement("p",null,"\u5df2\u5b9e\u73b0\u76c8\u4f59\uff08\u7f8e\u5143\uff09\uff1a",Number(F.realised_pnl)*Number(F.last)+Number(K.realised_pnl)*Number(K.last)+Number(X.realised_pnl)*Number(X.last)+Number(ne.realised_pnl)*Number(ne.last))))),h.a.createElement(r["a"],{title:"\u5408\u7ea6\u8d26\u6237\u4fe1\u606f",style:{marginTop:10}},h.a.createElement("p",null,"BTC\u4f59\u989d\uff1a",We,h.a.createElement(s["a"],{type:"vertical"}),"\u6807\u8bb0\u4ef7\u683c\uff1a",de,h.a.createElement(s["a"],{type:"vertical"}),"\u53ef\u5f00\u5f20\u6570\uff1a",Math.floor(Number(We)*Number(de)*m*.98/100)),h.a.createElement("p",null,"EOS\u4f59\u989d\uff1a",$e,h.a.createElement(s["a"],{type:"vertical"}),"\u6807\u8bb0\u4ef7\u683c\uff1a",Ee,h.a.createElement(s["a"],{type:"vertical"}),"\u53ef\u5f00\u5f20\u6570\uff1a",Math.floor(Number($e)*Number(Ee)*N*.98/10))),h.a.createElement(r["a"],{title:"\u6c38\u7eed\u5408\u7ea6",style:{marginTop:10}},h.a.createElement(a["a"],{defaultActiveKey:J,onChange:function(e){return Se(e)}},h.a.createElement(a["a"].TabPane,{tab:"BTC",key:J},h.a.createElement(at,{instrument_id:J,currency:"BTC",leverage:m})),h.a.createElement(a["a"].TabPane,{tab:"EOS",key:R},h.a.createElement(at,{instrument_id:R,currency:"EOS",leverage:N})))),h.a.createElement(r["a"],{title:"\u64cd\u4f5c",style:{marginTop:10}},h.a.createElement("p",null,"\u4ea4\u6613\u9891\u6b21\uff1a",h.a.createElement(o["a"],{value:_e,step:.1,min:.1,onChange:function(e){return je(e)}}),h.a.createElement(i["a"],{onClick:function(){return Le()},style:{marginLeft:10}},"\u786e\u5b9a")),h.a.createElement(s["a"],{type:"horizontal"}),h.a.createElement(i["a"],{onClick:function(){return Ie()}},"\u505c\u6b62\u76d1\u63a7"),h.a.createElement(i["a"],{onClick:function(){return Ae()},type:"primary",style:{marginLeft:10}},"\u5f00\u59cb\u76d1\u63a7")))}}}]);